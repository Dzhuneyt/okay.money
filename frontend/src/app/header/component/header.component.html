<mat-toolbar color="primary">
  <mat-toolbar-row>
    <button
      (click)="toggleMenu()"
      *ngIf="(this.userService.loginStateChanges | async).loggedIn"
      aria-label="Home page"
      class="hamburger"
      mat-icon-button>
      <mat-icon>menu</mat-icon>
    </button>
    <a class="logo" href="#" routerLink="['/home']" routerLinkActive="true">Finance</a>
    <span fxFlex="1 1 auto"></span>

    <!-- List of dynamic buttons, fetched from the MenuService service -->
    <!-- Any component can inject the service and replace those -->
    <ng-container *ngFor="let menuItem of menuItems">
      <button
        *ngIf="menuItem.route && !menuItem.onClick"
        [routerLink]="[menuItem.route]"
        class="navbar-icon"
        mat-button
        routerLinkActive="true">
        <mat-icon inline="true">{{menuItem.matIcon}}</mat-icon>
        {{menuItem.label}}
      </button>
      <button
        *ngIf="!menuItem.route && menuItem.onClick"
        (click)="menuItem.onClick()"
        mat-button
        class="navbar-icon">
        <mat-icon inline="true">{{menuItem.matIcon}}</mat-icon>
        {{menuItem.label}}
      </button>
    </ng-container>

    <!-- Profile button -->
    <button
      *ngIf="(this.userService.loginStateChanges | async).loggedIn"
      [routerLink]="['/profile']"
      aria-label="Profile"
      class="navbar-icon"
      mat-button>
      <mat-icon inline="true">person</mat-icon>
      Profile
    </button>

    <!-- Login button -->
    <button *ngIf="!(this.userService.loginStateChanges | async).loggedIn"
            [routerLink]="['/login']"
            aria-label="Login"
            class="navbar-icon"
            mat-button
            routerLinkActive="true">
      <mat-icon inline="true">lock_open</mat-icon>
      Login
    </button>

  </mat-toolbar-row>
</mat-toolbar>
